<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="renderer" content="webkit" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, shrink-to-fit=no">
        <title>swan test - Tigr link</title>
        <meta name="screen-orientation" content="portrait">
        <meta name="x5-orientation" content="portrait">
        <meta name="fullscreen" content="yes">
        <meta name="x5-fullscreen" content="true">
        <meta name="x5-page-mode" content="app">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <meta name="apple-mobile-web-app-title" content="Tigr link">
        <script>
             var isIOS = /tigerbrokers/i.test(navigator.userAgent);
             var isSwanWebview = /swan/i.test(navigator.userAgent);

             function download () {
                console.log(window.swan);
                window.swan.openApp({
                    open: 'tigertrade://',
                    download: {
                        url: isIOS ? 'https://apps.apple.com/cn/app/%E8%80%81%E8%99%8E%E8%AF%81%E5%88%B8-%E7%BE%8E%E6%B8%AF%E8%82%A1%E6%89%93%E6%96%B0%E5%BC%80%E6%88%B7%E7%82%92%E8%82%A1%E5%B9%B3%E5%8F%B0/id1023600494' : 'https://a.app.qq.com/o/simple.jsp?pkgname=com.tigerbrokers.stock',
                        from: ''
                    }
                })
             }
        </script>
        <script src="//cdn.jsdelivr.net/npm/eruda"></script>
        <script>eruda.init();</script>
        <script type="text/javascript" src="https://b.bdstatic.com/searchbox/icms/searchbox/js/swan-2.0.14.js"></script>
    </head>
    <body>
        <button onclick="download()">download test</button>
    </body>
</html>

